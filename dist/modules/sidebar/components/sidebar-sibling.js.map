{"version":3,"file":"sidebar-sibling.js","sourceRoot":"","sources":["../../../../src/modules/sidebar/components/sidebar-sibling.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, HostBinding, HostListener, ElementRef, Renderer2, OnDestroy } from \"@angular/core\";\nimport { SidebarService, SidebarTransition } from \"../services/sidebar.service\";\n\n@Component({\n    selector: \"sui-sidebar-sibling\",\n    template: `<ng-content></ng-content>`,\n    styles: [`\n:host {\n    display: block;\n}\n`]\n})\nexport class SuiSidebarSibling implements OnDestroy {\n    private _service:SidebarService;\n    private _documentClickListener:() => void;\n\n    public get service():SidebarService {\n        return this._service;\n    }\n\n    public set service(service:SidebarService) {\n        this._service = service;\n\n        setTimeout(() => this.updateTransform());\n        this._service.isVisibleChange.subscribe(() => this.updateTransform());\n    }\n\n    @Input()\n    public isDimmedWhenVisible:boolean;\n\n    @HostBinding(\"class.visible\")\n    public get isVisible():boolean {\n        if (!this.service) {\n            return false;\n        }\n        return this.service.isVisible;\n    }\n\n    @HostBinding(\"class.dimmed\")\n    public get isDimmed():boolean {\n        if (!this.service) {\n            return false;\n        }\n        return this.service.isVisible && this.isDimmedWhenVisible;\n    }\n\n    @HostBinding(\"class.pusher\")\n    private _siblingClasses:boolean;\n\n    constructor(private _renderer:Renderer2, private _element:ElementRef) {\n        this.isDimmedWhenVisible = false;\n\n        this._siblingClasses = true;\n    }\n\n    private updateTransform():void {\n        this._renderer.removeStyle(this._element.nativeElement, \"transform\");\n        this._renderer.removeStyle(this._element.nativeElement, \"-webkit-transform\");\n\n        if (this.service.isVisible &&\n            this.service.transition !== SidebarTransition.Overlay &&\n            this.service.transition !== SidebarTransition.ScaleDown) {\n\n            const translate = `translate3d(${this.service.width}px, ${this.service.height}px, 0)`;\n            this._renderer.setStyle(this._element.nativeElement, \"transform\", translate);\n            this._renderer.setStyle(this._element.nativeElement, \"-webkit-transform\", translate);\n        }\n\n        if (this.service.isVisible) {\n            this._documentClickListener = this._renderer.listen(\"document\", \"click\", (e:MouseEvent) => this.onClick(e));\n        } else {\n            if (this._documentClickListener ) {\n                this._documentClickListener();\n            }\n        }\n    }\n\n\n    public onClick(event:MouseEvent):void {\n        if (this.service.isVisible && !this.service.wasJustOpened) {\n            this.service.setVisibleState(false);\n        }\n    }\n\n    public ngOnDestroy():void {\n        if (this._documentClickListener ) {\n            this._documentClickListener();\n        }\n    }\n\n\n}\n"]}